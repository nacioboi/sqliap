<html version="5">
	<head>
		<title>SQL Injection Attack Playground</title>
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
		<script type="text/javascript">
			function submitted() {
				event.preventDefault(); // Stop form from submitting

				const username = document.getElementsByName("username")[0].value;
				const password = document.getElementsByName("password")[0].value;

				// ajax is a function that sends a request to the server.
				// The server will then respond with a success or failure message.
				$.ajax({
					type: "POST",
					url: "http://localhost:3000/login",
					data: {username, password},
					success: function(response){
						if(response.success === true) {
							console.log(response.diagnostic)
							alert(`Logged in. ðŸŽ‰\n${response.diagnostic}`);
						} else {
							alert(`Failed to log in!!\n${response.diagnostic}`);
						}
					}
				});
			}
		</script>
	</head>
	<body>
		<form onsubmit="submitted()">
			<input type="text" name="username" placeholder="Username" />
			<input type="password" name="password" placeholder="Password" />
			<input type="submit" value="Login" />
		</form>
	</body>
</html>
